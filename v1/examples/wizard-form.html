

<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><title>Wizard form — Kingly.js</title>
  <meta charset="utf-8">
  <meta name="description" content="Kingly - The Modelling Library for Portable UIs">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Wizard form — Kingly.js">
  <meta property="og:description" content="Kingly - The Modelling Library for Portable UIs">
  <meta property="og:image" content="https://brucou.github.io/documentation//documentation/images/kingly_logo.png">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Wizard form — Kingly.js">
  <meta name="twitter:description" content="Kingly - The Modelling Library for Portable UIs">
  <meta name="twitter:image" content="https://brucou.github.io/documentation/images/kingly_logo.png">

  <link rel="apple-touch-icon" sizes="180x180" href="/documentation/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/documentation/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="256x256" href="/documentation/images/icons/favicon-256x256.png">
  <link rel="icon" href="/documentation/images/kingly_logo.png" type="image/png">

  <link href="//fonts.googleapis.com/css?family=Lato:300,400,600" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Overlock:400&text=Kingly.js" rel="stylesheet" type="text/css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  <!-- main page styles -->
  <link rel="stylesheet" href="/documentation/css/page.css">

  <!--<script src="/documentation/js/kingly.js"></script>-->

  <!-- ga -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-141924019-1', 'brucou.github.io/documentation');
    ga('send', 'pageview');
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  </head>

  <body class="docs">    <div id="mobile-bar">
      <!-- hexo-inject:begin --><!-- hexo-inject:end --><a class="menu-button"></a>
      <a class="logo" href="/documentation"></a>
    </div>
    

<div id="header">
  <a id="logo" href="/documentation/">
    <img src="/documentation/images/kingly_logo.png" alt="library logo">
    <span>Kingly</span>
    
  </a>
  <ul id="nav">
    <li class="nav-dropdown-container learn">
  <a class="nav-link current">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/concepts/" class="nav-link">Concepts</a></li>
        <li><a href="/documentation/v1/tutorials/" class="nav-link">Tutorials</a></li>
        <li><a href="/documentation/v1/examples/" class="nav-link current">Examples</a></li>
        <li><a href="/documentation/v1/cookbook/" class="nav-link">Cookbook</a></li>
        <li><a href="/documentation/v1/best-practices/" class="nav-link">Best practices</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/api/index.html" class="nav-link team">API</a>
</li>
<li class="nav-dropdown-container tooling">
  <a class="nav-link">Tooling</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tooling/tools_overview.html" class="nav-link">Overview</a></li>
        <li><a href="/documentation/v1/tooling/graph_editing.html" class="nav-link">Graph editing</a></li>
        <li><a href="/documentation/v1/tooling/compiling.html" class="nav-link">Compiling</a></li>
        <li><a href="/documentation/v1/tooling/devtool.html" class="nav-link">Devtool</a></li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container integrations">
  <a class="nav-link">Integrations</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/int-vanilla/" class="nav-link">Vanilla js</a></li>
        <li><a href="/documentation/v1/int-react/" class="nav-link">React</a></li>
        <li><a href="/documentation/v1/int-vue/" class="nav-link">Vue</a></li>
        <li><a href="/documentation/v1/int-svelte/" class="nav-link">Svelte</a></li>
        <li><a href="/documentation/v1/int-others/" class="nav-link">Others</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/testing/index.html" class="nav-link team">Testing</a>
</li>
<li>
  <a href="/documentation/v1/contributed/index.html" class="nav-link team">Blog</a>
</li>

  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li class="nav-dropdown-container learn">
  <a class="nav-link current">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/concepts/" class="nav-link">Concepts</a></li>
        <li><a href="/documentation/v1/tutorials/" class="nav-link">Tutorials</a></li>
        <li><a href="/documentation/v1/examples/" class="nav-link current">Examples</a></li>
        <li><a href="/documentation/v1/cookbook/" class="nav-link">Cookbook</a></li>
        <li><a href="/documentation/v1/best-practices/" class="nav-link">Best practices</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/api/index.html" class="nav-link team">API</a>
</li>
<li class="nav-dropdown-container tooling">
  <a class="nav-link">Tooling</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tooling/tools_overview.html" class="nav-link">Overview</a></li>
        <li><a href="/documentation/v1/tooling/graph_editing.html" class="nav-link">Graph editing</a></li>
        <li><a href="/documentation/v1/tooling/compiling.html" class="nav-link">Compiling</a></li>
        <li><a href="/documentation/v1/tooling/devtool.html" class="nav-link">Devtool</a></li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container integrations">
  <a class="nav-link">Integrations</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/int-vanilla/" class="nav-link">Vanilla js</a></li>
        <li><a href="/documentation/v1/int-react/" class="nav-link">React</a></li>
        <li><a href="/documentation/v1/int-vue/" class="nav-link">Vue</a></li>
        <li><a href="/documentation/v1/int-svelte/" class="nav-link">Svelte</a></li>
        <li><a href="/documentation/v1/int-others/" class="nav-link">Others</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/testing/index.html" class="nav-link team">Testing</a>
</li>
<li>
  <a href="/documentation/v1/contributed/index.html" class="nav-link team">Blog</a>
</li>

    </ul>
    <div class="list">
      
        <h2>
          
          Examples
          
            <select class="version-select">
              <option value="SELF" selected>1.0</option>
            </select>
          
        </h2>
        <ul class="menu-root">
  
    
    
    
    <li>
      <a href="/documentation/v1/examples/index.html" class="sidebar-link">Introduction</a>
    </li>
  
    
    
    
    <li>
      <a href="/documentation/v1/examples/counter-application.html" class="sidebar-link">Counter application</a>
    </li>
  
    
    
    
    <li>
      <a href="/documentation/v1/examples/keypad.html" class="sidebar-link">Keypad</a>
    </li>
  
    
    
    
    <li>
      <a href="/documentation/v1/examples/two-players-chess-game.html" class="sidebar-link">Two-players chess game</a>
    </li>
  
    
    
    
    <li>
      <a href="/documentation/v1/examples/online-TMDB-interface.html" class="sidebar-link">Online interface to TMDB movie database</a>
    </li>
  
    
    
    
    <li>
      <a href="/documentation/v1/examples/svelte suspense.html" class="sidebar-link new">Svelte Suspense</a>
    </li>
  
    
    
    
    <li>
      <a href="/documentation/v1/examples/wizard-form.html" class="sidebar-link current new">Wizard form</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>



<div class="content examples with-sidebar ">
  
    
    
  
  
    <h1>Wizard form</h1>
  
  
    <h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p>This example implements a non-trivial application process, which is a typical part of enterprise applications. This process has a series of steps, with conditions (<em>business rules</em>) for moving from one step to another. Additionally, we use this example to show how an iterative specification and development process works with state machines.</p>
<h2 id="First-iteration"><a href="#First-iteration" class="headerlink" title="First iteration"></a>First iteration</h2><p>In the initial iteration, the designers produce high-level user flows and the development team refines more detailed specifications from those user flows.</p>
<h3 id="Specifications"><a href="#Specifications" class="headerlink" title="Specifications"></a>Specifications</h3><p>Here are the initial specifications for the volunteer application workflow, as extracted from the UX designers. Those initial specifications are light in details, being simple lo-fi wireframes. However the user flow summarizes nicely the key user scenarios:</p>
<figure class="fullwidth"><p><img src="https://imgur.com/xcO9xnY.jpg" alt="Imgur"></p>
</figure>
<p>Furthermore, the following must hold for a good user experience and to guarantee a valid user application:</p>
<ul>
<li>it should be possible for the user to interrupt at any time its application and continue it later from where it stopped </li>
<li>user-generated data must be validated </li>
<li>after entering all necessary data for his application, the user can review them and decide to modify some of them, by returning to the appropriate screen (cf. pencil icons in the wireframe)</li>
</ul>
<h3 id="Modelization"><a href="#Modelization" class="headerlink" title="Modelization"></a>Modelization</h3><p>Modelizing the user flows with a state machine surfaces issues that did not appear in the high-level user flow, which catered mostly to the happy path for the user. We have to handle data fetching and error flows nicely. The resulting state machine, which acts as detailed specifications, is as follows:</p>
<figure class="fullwidth"><p><img src="../../graphs/sparks%20application%20process%20with%20comeback%20proper%20syntax%20hierarchical%20fsm.png" alt="modelization - first iteration"></p>
</figure>
<p>Using this machine as a basis for a working prototype <strong>without reaching the implementation phase</strong>, new requirements emerge and the modelization is subsequently updated. </p>
<h2 id="Second-iteration"><a href="#Second-iteration" class="headerlink" title="Second iteration"></a>Second iteration</h2><p>In the second iteration, some improvements on user experience are decided. </p>
<h3 id="Specifications-1"><a href="#Specifications-1" class="headerlink" title="Specifications"></a>Specifications</h3><p>We end up with the following specifications:</p>
<ul>
<li>A valid completed application contains the following fields: <ul>
<li>personal information: super power, legal name, preferred name, phone, birthday, zip code<ul>
<li>all previously quoted fields are subject to validation</li>
<li>any field failing validation must result in a detailed error message displayed</li>
<li>min length &gt; X: super power, legal name, preferred name</li>
<li>mandatory fields: phone, birthday, zip code, opportunity question’s answer, team motivational question’s answer </li>
</ul>
</li>
<li>answer to a motivational question specific to the opportunity</li>
<li>a non-empty set of teams that the volunteer want to join</li>
<li>for any selected team, a non-empty answer to a motivational question specific to the team</li>
</ul>
</li>
<li>The user will be able to start filling in an application, interrupt the application, and resume it at a later point in the stage where it stopped</li>
<li>The user can review its application before applying, and modify it</li>
<li><strong class="new">NEW</strong>: To avoid having to reenter information, previously entered information should be kept</li>
<li><strong class="new">NEW</strong>: The user will be able to join a team, but also to unjoin it, if it was joined previously. The same button will be used to that purpose, with the corresponding action displayed (i.e. Join if the team is not joined yet, Unjoin if the team is already joined)</li>
</ul>
<h3 id="Modelization-1"><a href="#Modelization-1" class="headerlink" title="Modelization"></a>Modelization</h3><p>The resulting updated machine is as follows:</p>
<figure class="fullwidth"><p><img src="../../graphs/sparks%20application%20process%20with%20comeback%20proper%20syntax%20hierarchical%20fsm%20iter1.1.png" alt="second iteration modelization"> </p>
</figure>
<h2 id="Cyclejs-implementation"><a href="#Cyclejs-implementation" class="headerlink" title="Cyclejs implementation"></a>Cyclejs implementation</h2><p>A (re-)implementation (to avoid licensing issues) was realized with <code>cycle.js</code>, a stream-based front-end framework. I reproduce here an animated gif:</p>
<figure class="fullwidth"><p><img src="../../images/volunteer-app/animated_demo.gif" alt="animated demo of volunteer application"></p>
</figure>
<p>The state machine implementation can be found in the <a href="https://github.com/brucou/cycle-state-machine-demo/blob/first-iteration-fix/src/processApplication/fsmSpecs.js" target="_blank" rel="noopener">repository</a>. We won’t reproduce it here as it is 175 lines of code.</p>
<h2 id="Svelte-implementation"><a href="#Svelte-implementation" class="headerlink" title="Svelte implementation"></a>Svelte implementation</h2><p>I plan to do yet another implementation with Svelte.</p>
<p><img src="../../images/coming-soon/under-construction-png-transparent-images-39666.png" alt></p>

  
  
  <div class="footer">
    Caught a mistake?
    <a href="https://github.com/brucou/kingly-site/tree/master/src/v1/examples/wizard-form.md" rel="noopener" target="_blank">
            Edit this on GitHub!
    </a><br>
    Can we help you?     <a href="https://github.com/brucou/kingly/discussions/new" rel="noopener" target="_blank">
      Let us know!
    </a>
  </div>
</div>

      </div>
      <script src="/documentation/js/smooth-scroll.min.js"></script>
    

    <!-- script for sidebars, version selects etc. -->
    <script src="/documentation/js/css.escape.js"></script>
    <script src="/documentation/js/common.js"></script>
    <!-- mathjax-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</body>
</html>
