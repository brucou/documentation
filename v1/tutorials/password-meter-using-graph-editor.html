

<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><title>Implementation with the yEd graph editor — Kingly.js</title>
  <meta charset="utf-8">
  <meta name="description" content="Kingly - The Modelling Library for Portable UIs">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Implementation with the yEd graph editor — Kingly.js">
  <meta property="og:description" content="Kingly - The Modelling Library for Portable UIs">
  <meta property="og:image" content="https://brucou.github.io/documentation//documentation/images/kingly_logo.png">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Implementation with the yEd graph editor — Kingly.js">
  <meta name="twitter:description" content="Kingly - The Modelling Library for Portable UIs">
  <meta name="twitter:image" content="https://brucou.github.io/documentation/images/kingly_logo.png">

  <link rel="apple-touch-icon" sizes="180x180" href="/documentation/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/documentation/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="256x256" href="/documentation/images/icons/favicon-256x256.png">
  <link rel="icon" href="/documentation/images/kingly_logo.png" type="image/png">

  <link href="//fonts.googleapis.com/css?family=Lato:300,400,600" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Overlock:400&text=Kingly.js" rel="stylesheet" type="text/css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  <!-- main page styles -->
  <link rel="stylesheet" href="/documentation/css/page.css">

  <!--<script src="/documentation/js/kingly.js"></script>-->

  <!-- ga -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-141924019-1', 'brucou.github.io/documentation');
    ga('send', 'pageview');
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  </head>

  <body class="docs">    <div id="mobile-bar">
      <!-- hexo-inject:begin --><!-- hexo-inject:end --><a class="menu-button"></a>
      <a class="logo" href="/documentation"></a>
    </div>
    

<div id="header">
  <a id="logo" href="/documentation/">
    <img src="/documentation/images/kingly_logo.png" alt="library logo">
    <span>Kingly</span>
    
  </a>
  <ul id="nav">
    <li class="nav-dropdown-container learn">
  <a class="nav-link">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tutorials/" class="nav-link current">Tutorials</a></li>
        <li><a href="/documentation/v1/examples/" class="nav-link">Examples</a></li>
        <li><a href="/documentation/v1/cookbook/" class="nav-link">Cookbook</a></li>
        <li><a href="/documentation/v1/best-practices/" class="nav-link">Best practices</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/api/index.html" class="nav-link team">API</a>
</li>
<li class="nav-dropdown-container tooling">
  <a class="nav-link">Tooling</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tooling/graph_editing.html" class="nav-link">Graph editing</a></li>
        <li><a href="/documentation/v1/tooling/compiling.html" class="nav-link">Compiling</a></li>
        <li><a href="/documentation/v1/tooling/devtool.html" class="nav-link">Devtool</a></li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container integrations">
  <a class="nav-link">Integrations</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/int-vanilla/" class="nav-link">Vanilla js</a></li>
        <li><a href="/documentation/v1/int-react/" class="nav-link">React</a></li>
        <li><a href="/documentation/v1/int-vue/" class="nav-link">Vue</a></li>
        <li><a href="/documentation/v1/int-svelte/" class="nav-link">Svelte</a></li>
        <li><a href="/documentation/v1/int-others/" class="nav-link">Others</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/testing/index.html" class="nav-link team">Testing</a>
</li>
<li>
  <a href="/documentation/v1/contributed/index.html" class="nav-link team">Contributed</a>
</li>

  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li class="nav-dropdown-container learn">
  <a class="nav-link">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tutorials/" class="nav-link current">Tutorials</a></li>
        <li><a href="/documentation/v1/examples/" class="nav-link">Examples</a></li>
        <li><a href="/documentation/v1/cookbook/" class="nav-link">Cookbook</a></li>
        <li><a href="/documentation/v1/best-practices/" class="nav-link">Best practices</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/api/index.html" class="nav-link team">API</a>
</li>
<li class="nav-dropdown-container tooling">
  <a class="nav-link">Tooling</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tooling/graph_editing.html" class="nav-link">Graph editing</a></li>
        <li><a href="/documentation/v1/tooling/compiling.html" class="nav-link">Compiling</a></li>
        <li><a href="/documentation/v1/tooling/devtool.html" class="nav-link">Devtool</a></li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container integrations">
  <a class="nav-link">Integrations</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/int-vanilla/" class="nav-link">Vanilla js</a></li>
        <li><a href="/documentation/v1/int-react/" class="nav-link">React</a></li>
        <li><a href="/documentation/v1/int-vue/" class="nav-link">Vue</a></li>
        <li><a href="/documentation/v1/int-svelte/" class="nav-link">Svelte</a></li>
        <li><a href="/documentation/v1/int-others/" class="nav-link">Others</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/testing/index.html" class="nav-link team">Testing</a>
</li>
<li>
  <a href="/documentation/v1/contributed/index.html" class="nav-link team">Contributed</a>
</li>

    </ul>
    <div class="list">
      
        <h2>
          
          Tutorials
          
            <select class="version-select">
              <option value="SELF" selected>1.0</option>
            </select>
          
        </h2>
        <ul class="menu-root">
  
    
    
      
        <li><h3>Introduction</h3></li>
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/index.html" class="sidebar-link">Why Kingly</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/counter-application.html" class="sidebar-link">Counter application</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/installation.html" class="sidebar-link">Installation</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/model-with-machines.html" class="sidebar-link">Implementing UIs with state machines</a>
    </li>
  
    
    
      
      
        <li><h3>Password meter</h3></li>
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter.html" class="sidebar-link">Modelization</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-implementation.html" class="sidebar-link">Machine implementation</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-ui-implementation.html" class="sidebar-link">Interface implementation</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-using-graph-editor.html" class="sidebar-link current new">Implementation with the yEd graph editor</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-learnt.html" class="sidebar-link">What we learnt</a>
    </li>
  
    
    
      
      
      
        <li><h3>Chess game</h3></li>
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game.html" class="sidebar-link">Two-player chess game</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game-evolved.html" class="sidebar-link">Chess game - adding features</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game-ultimate.html" class="sidebar-link">Chess game - more features</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/graphs/movie-search/TMDB-lessons-learnt.html" class="sidebar-link">What we learnt</a>
    </li>
  
    
    
      
      
      
      
      
        <li><h3 class="new">RealWorld clone</h3></li>
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world.html" class="sidebar-link">RealWorld app</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-home.html" class="sidebar-link">Home route</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-sign-up.html" class="sidebar-link">Sign up route</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-sign-in.html" class="sidebar-link">Sign in route</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-editor.html" class="sidebar-link">Editor route</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-settings.html" class="sidebar-link">Settings route</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-profile.html" class="sidebar-link">User profile route</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-article.html" class="sidebar-link">Article route</a>
    </li>
  
    
    
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-lessons-learnt.html" class="sidebar-link">Lessons learnt</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>



<div class="content tutorials with-sidebar ">
  
    
    
  
  
    <h1>Implementation with the yEd graph editor</h1>
  
  
    <p>In the previous sections, we specified, designed and implemented a password meter. In this section, we are going to reach the same implementation but this time, instead of writing the machine’s transitions manually, we are going to draw them im a graph editor, and convert the drawing to standard JavaScript. </p>
<p>This sections aims at showcasing the yEd graph editor which the preferred tool to create and maintain Kingly state machines. yEd is simple to use, offer a series of automatic layouts, allow to zoom in and out of compound states, and can save the machine graph in a xml textual format which can be versioned on github.</p>
<h2 id="Install-yEd"><a href="#Install-yEd" class="headerlink" title="Install yEd"></a>Install yEd</h2><ul>
<li>Go to the <a href="https://www.yworks.com/products/yed" target="_blank" rel="noopener">yEd website</a></li>
<li>Download the desktop graph editor (click on <a href="https://www.yworks.com/products/yed/download#download" target="_blank" rel="noopener"><em>Download now</em></a>)<ul>
<li>you can alternatively try <a href="https://www.yworks.com/yed-live/" target="_blank" rel="noopener">yEd live</a> in the browser, but we recommend download the desktop version if you are going to draw more than one state machine </li>
</ul>
</li>
<li>run/install the downloaded executable</li>
</ul>
<h2 id="Creating-a-graph"><a href="#Creating-a-graph" class="headerlink" title="Creating a graph"></a>Creating a graph</h2><p>To make it easy to start drawing a graph representing a Kingly machine behavior, we recommend to open a template file that will contain the four elements that you will need in any graph:</p>
<p><img src="../../images/yed/template.png" alt="drawing template with basic elements"></p>
<p>The <a href="https://raw.githubusercontent.com/brucou/yed2Kingly/master/template.graphml" target="_blank" rel="noopener">template file can be downloaded</a> from GitHub.</p>
<p>Your editor should then look like this:</p>
<p><img src="../../images/yed/editor-with-template.gif" alt="editor with template file open"></p>
<p>yEd has many interesting options that we will explain later. For now, let’s reproduce the graph for our password meter:</p>
<ul>
<li>open a new file (<em>File -&gt; New</em>)</li>
<li>save that file as password-meter (the editor will save the file as <code>password-meter.graphml</code>)</li>
</ul>
<p>We are now ready to edit:</p>
<ul>
<li>navigate to the previous tab (<code>template.graphml</code>) — you can use <kbd>Ctrl-Tab</kbd> to navigate the tabs in the editor</li>
<li>copy the init node (click on the init node then <kbd>Ctrl-C</kbd>)</li>
<li>navigate to the password meter tab and paste the init node (<kbd>Ctrl-V</kbd>)</li>
</ul>
<p>We have our initial pseudo-state! Let’s draw now the nodes:</p>
<ul>
<li>navigate back to the template tab</li>
<li>copy the yellow node</li>
<li>navigate to the password meter tab</li>
<li>paste the yellow node 3 times</li>
<li>update the labels for each of those three nodes to: <em>weak</em>, <em>strong</em>, <em>done</em></li>
</ul>
<p>You should now have:</p>
<figure class="fullwidth"><p><img src="../../images/yed/password-meter-three-nodes.png" alt="editor with template file open"></p>
</figure>
<p>Let’s now do the edges:</p>
<ul>
<li>click on <em>init</em> node and drag to the <em>weak</em> node and let go. This should create an arrow between those two nodes</li>
<li>do the same between the <em>weak</em> and <em>strong</em> nodes</li>
<li>do the same between the <em>strong</em> and <em>weak</em> nodes</li>
<li>do the same between the <em>strong</em> and <em>done</em> nodes</li>
<li>do the same between the <em>strong</em> and <em>strong</em> nodes (a circle should appear as the origin and target node are the same)</li>
<li>do the same between the <em>weak</em> and <em>weak</em> nodes (a circle should appear as the origin and target node are the same)</li>
</ul>
<p>You can move nodes here and there to make space for you to drag the arrow.</p>
<p>Your graph at this moment is probably not well laid out. We are going to ask yEd to lay it out for us:</p>
<ul>
<li>Select the hierarchical layout (<em>Layout -&gt; Hierarchical</em> or <kbd>Alt-Shift-H</kbd>)</li>
<li>You will see a rich list of options that allows you to customize the layout, just click ok for now</li>
</ul>
<p>You should now see this:</p>
<figure class="fullwidth"><p><img src="../../images/yed/password-meter-three-nodes-with-arrows.png" alt="editor with template file open"></p>
</figure>
<p>Now let’s do the labels. The labels must follow the <code>event [guard] / action</code> format. Here, we are going again to copy from the <a href="https://brucou.github.io/documentation/v1/tutorials/password-meter.html#Model">already-made modelization</a>:</p>
<ul>
<li>the label between the <em>init</em> node and the <em>weak</em> node is <em>navigated to url \n / display initial screen</em>. To insert a label, click on an edge, then press <kbd>F2</kbd>. A caret will appear, and you will be able to type a text</li>
<li>the label between the <em>weak</em> node and the <em>weak</em> node is <em>typed [!letter and numbers?] \n / display weak password screen</em></li>
<li>the label between the <em>strong</em> node and the <em>weak</em> node is also <em>typed [!letter and numbers?] \n / display weak password screen</em></li>
<li>the label between the <em>weak</em> node and the <em>strong</em> node is <em>typed [letter and numbers?] \n / display strong password screen</em></li>
<li>the label between the <em>strong</em> node and the <em>strong</em> node is also <em>typed [letter and numbers?] \n / display strong password screen</em></li>
<li>the label between the <em>strong</em> node and the <em>done</em> node is <em>clicked submit \n / display password submitted screen</em></li>
<li>apply the hierarchic layout again — this time, instead of clicking <em>Ok</em>, click on <em>Dock</em> — this will set a panel on the left side, with a play button. Click that play button to activate the hierarchic layout. Docking a layout is practical if you are going to use it several times.</li>
</ul>
<p>The result is not very readable:</p>
<figure class="fullwidth"><p><img src="../../images/yed/password-meter-three-nodes-with-arrows-and-labels.png" alt="editor with template file open"></p>
</figure>
<p>Let’s adjust the layout by modifying a setting:</p>
<ul>
<li>in the docked hierarchical layout panel, select <em>Edge labeling</em> in the <em>Labeling</em> section and set it to <code>Hierarchic</code></li>
<li>rerun the layout (play button)</li>
</ul>
<p>The layout reruns:</p>
<figure class="fullwidth"><p><img src="../../images/yed/password-meter-hierarchic-anim.apng" alt="editor with template file open"></p>
</figure>
<p>The final result is as follows:<br><figure class="fullwidth"><p><img src="../../images/yed/password-meter-hierarchic-done.png" alt="editor with template file open"></p>
</figure></p>
<p><strong>Et voila!</strong>. With this, we have recreated the modelization for the password meter behaviour that we have shown in previous sections. We let yEd do the layout for us. Drawing a graph is as simple as copy-pasting-dragging nodes.</p>
<p>yEd has far more options that are very useful, and other insightful layouts, but we will not introduce them at this stage of the tutorial.</p>
<h2 id="Converting-to-JavaScript"><a href="#Converting-to-JavaScript" class="headerlink" title="Converting to JavaScript"></a>Converting to JavaScript</h2><p><img src="../../images/coming-soon/Work_In_Progress-300x269.png" alt></p>

  
  
    <div class="next-links">
      
      
        <span>← <a href="/documentation/v1/tutorials/password-meter-ui-implementation.html">Interface implementation</a></span>
      
      
      
        <span style="float: right;"><a href="/documentation/v1/tutorials/password-meter-learnt.html">What we learnt</a> →</span>
      
    </div>
  
  <div class="footer">
    <a id="follow-button" class="btn" title="Kingly Github" href="https://github.com/brucou/kingly">
      <img class="github" src="/documentation/images/GitHub-Mark-32px.png" alt="github">
    </a>
    <a id="follow-button" class="btn" title="Follow Kingly on Twitter" href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fbrucou.github.io/documentation%2F&amp;ref_src=twsrc%5Etfw&amp;region=follow_link&amp;screen_name=bricoi1&amp;tw_p=followbutton">
      <img class="twitter" src="/documentation/images/icons8-twitter-48.png" alt="twitter">
    </a>
  </div>
</div>

      </div>
      <script src="/documentation/js/smooth-scroll.min.js"></script>
    

    <!-- script for sidebars, version selects etc. -->
    <script src="/documentation/js/css.escape.js"></script>
    <script src="/documentation/js/common.js"></script>
    <!-- mathjax-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</body>
</html>
