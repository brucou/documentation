

<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><title>Password meter modeling — Kingly.js</title>
  <meta charset="utf-8">
  <meta name="description" content="Kingly - The Modelling Library for Portable UIs">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Password meter modeling — Kingly.js">
  <meta property="og:description" content="Kingly - The Modelling Library for Portable UIs">
  <meta property="og:image" content="https://brucou.github.io/documentation//documentation/images/kingly_logo.png">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Password meter modeling — Kingly.js">
  <meta name="twitter:description" content="Kingly - The Modelling Library for Portable UIs">
  <meta name="twitter:image" content="https://brucou.github.io/documentation/images/kingly_logo.png">

  <link rel="apple-touch-icon" sizes="180x180" href="/documentation/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/documentation/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="256x256" href="/documentation/images/icons/favicon-256x256.png">
  <link rel="icon" href="/documentation/images/kingly_logo.png" type="image/png">

  <link href="//fonts.googleapis.com/css?family=Lato:300,400,600" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Overlock:400&text=Kingly.js" rel="stylesheet" type="text/css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  <!-- main page styles -->
  <link rel="stylesheet" href="/documentation/css/page.css">

  <!--<script src="/documentation/js/kingly.js"></script>-->

  <!-- ga -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-141924019-1', 'brucou.github.io/documentation');
    ga('send', 'pageview');
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  </head>

  <body class="docs">    <div id="mobile-bar">
      <!-- hexo-inject:begin --><!-- hexo-inject:end --><a class="menu-button"></a>
      <a class="logo" href="/documentation"></a>
    </div>
    

<div id="header">
  <a id="logo" href="/documentation/">
    <img src="/documentation/images/kingly_logo.png" alt="library logo">
    <span>Kingly</span>
    
  </a>
  <ul id="nav">
    <li class="nav-dropdown-container learn">
  <a class="nav-link">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tutorials/" class="nav-link current">Tutorials</a></li>
        <li><a href="/documentation/v1/concepts/" class="nav-link">Concepts</a></li>
        <li><a href="/documentation/v1/examples/" class="nav-link">Examples</a></li>
        <li><a href="/documentation/v1/cookbook/" class="nav-link">Cookbook</a></li>
        <li><a href="/documentation/v1/best-practices/" class="nav-link">Best practices</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/api/index.html" class="nav-link team">API</a>
</li>
<li class="nav-dropdown-container tooling">
  <a class="nav-link">Tooling</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tooling/tools_overview.html" class="nav-link">Overview</a></li>
        <li><a href="/documentation/v1/tooling/graph_editing.html" class="nav-link">Graph editing</a></li>
        <li><a href="/documentation/v1/tooling/compiling.html" class="nav-link">Compiling</a></li>
        <li><a href="/documentation/v1/tooling/devtool.html" class="nav-link">Devtool</a></li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container integrations">
  <a class="nav-link">Integrations</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/int-vanilla/" class="nav-link">Vanilla js</a></li>
        <li><a href="/documentation/v1/int-react/" class="nav-link">React</a></li>
        <li><a href="/documentation/v1/int-vue/" class="nav-link">Vue</a></li>
        <li><a href="/documentation/v1/int-svelte/" class="nav-link">Svelte</a></li>
        <li><a href="/documentation/v1/int-others/" class="nav-link">Others</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/testing/index.html" class="nav-link team">Testing</a>
</li>
<li>
  <a href="/documentation/v1/contributed/index.html" class="nav-link team">Blog</a>
</li>

  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li class="nav-dropdown-container learn">
  <a class="nav-link">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tutorials/" class="nav-link current">Tutorials</a></li>
        <li><a href="/documentation/v1/concepts/" class="nav-link">Concepts</a></li>
        <li><a href="/documentation/v1/examples/" class="nav-link">Examples</a></li>
        <li><a href="/documentation/v1/cookbook/" class="nav-link">Cookbook</a></li>
        <li><a href="/documentation/v1/best-practices/" class="nav-link">Best practices</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/api/index.html" class="nav-link team">API</a>
</li>
<li class="nav-dropdown-container tooling">
  <a class="nav-link">Tooling</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tooling/tools_overview.html" class="nav-link">Overview</a></li>
        <li><a href="/documentation/v1/tooling/graph_editing.html" class="nav-link">Graph editing</a></li>
        <li><a href="/documentation/v1/tooling/compiling.html" class="nav-link">Compiling</a></li>
        <li><a href="/documentation/v1/tooling/devtool.html" class="nav-link">Devtool</a></li>
      </ul>
    </li>
  </ul>
</li>

<li class="nav-dropdown-container integrations">
  <a class="nav-link">Integrations</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/int-vanilla/" class="nav-link">Vanilla js</a></li>
        <li><a href="/documentation/v1/int-react/" class="nav-link">React</a></li>
        <li><a href="/documentation/v1/int-vue/" class="nav-link">Vue</a></li>
        <li><a href="/documentation/v1/int-svelte/" class="nav-link">Svelte</a></li>
        <li><a href="/documentation/v1/int-others/" class="nav-link">Others</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/testing/index.html" class="nav-link team">Testing</a>
</li>
<li>
  <a href="/documentation/v1/contributed/index.html" class="nav-link team">Blog</a>
</li>

    </ul>
    <div class="list">
      
        <h2>
          
          Tutorials
          
            <select class="version-select">
              <option value="SELF" selected>1.0</option>
            </select>
          
        </h2>
        <ul class="menu-root">
  
    
    
      
        <li><h3>Introduction</h3></li>
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/index.html" class="sidebar-link">Why Kingly</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/installation.html" class="sidebar-link">Get started</a>
    </li>
  
    
    
      
      
        <li><h3>Counter</h3></li>
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/counter-application.html" class="sidebar-link">First steps</a>
    </li>
  
    
    
      
      
      
        <li><h3>Password meter</h3></li>
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter.html" class="sidebar-link current">Password meter modeling</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-implementation.html" class="sidebar-link">Machine implementation</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-ui-implementation.html" class="sidebar-link">Interface implementation</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-using-graph-editor.html" class="sidebar-link new">Implementation with the yEd graph editor</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-compiling.html" class="sidebar-link new">Compiling the machine</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-learnt.html" class="sidebar-link">What we learned</a>
    </li>
  
    
    
      
      
      
      
        <li><h3>Chess game</h3></li>
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game.html" class="sidebar-link">Two-player chess game</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game-evolved.html" class="sidebar-link">Chess game - adding features</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game-ultimate.html" class="sidebar-link">Chess game - more features</a>
    </li>
  
    
    
      
      
      
      
      
      
        <li><h3 class="new">RealWorld clone</h3></li>
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world.html" class="sidebar-link">RealWorld app</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-home.html" class="sidebar-link">Home route</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-sign-up.html" class="sidebar-link">Sign-up route</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-sign-in.html" class="sidebar-link">Sign-in route</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-editor.html" class="sidebar-link">Editor route</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-settings.html" class="sidebar-link">Settings route</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-profile.html" class="sidebar-link">User profile route</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-article.html" class="sidebar-link">Article route</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-refactoring.html" class="sidebar-link">Refactoring</a>
    </li>
  
    
    
      
      
      
      
      
      
    
    
    <li>
      <a href="/documentation/v1/tutorials/real-world-lessons-learnt.html" class="sidebar-link">Lessons learned</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>



<div class="content tutorials with-sidebar ">
  
    
    
  
  
    <h1>Password meter modeling</h1>
  
  
    <p>In this section, we will use a simple user interface to further illustrate  basic state machine concepts like control state, extended state, transitions, guards, action factories, and commands. We will also introduce the graph editor together with the associated Kingly tooling (graph converter and compiler).</p>
<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p>The user interface to specify is a <a href="https://cdn.dribbble.com/users/522131/screenshots/4467712/password_strength.png" target="_blank" rel="noopener">password meter</a>. Visually, the user interface consists of a <em>password</em> input field and a <em>submit</em> password button. Its behavior is the following:</p>
<ul>
<li>the user types,</li>
<li>for each new value of the password input, the input is displayed in green if the password is strong, and in red otherwise — for the sake of simplicity, a password is considered strong if there are both letters and numbers in the password,</li>
<li>if the password is not strong, the user click on the <code>submit</code> button is ignored. Otherwise, the password is set to the value of the password input.<div class="gap"></div>
</li>
</ul>
<p>Follows some screenshots of the application in different states:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Initial screen</th>
<th style="text-align:center">Weak password</th>
<th style="text-align:center">Strong password</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://i.imgur.com/ECzIRk2.png" alt="initial screen"></td>
<td style="text-align:center"><img src="https://i.imgur.com/q9TJFl4.png?1" alt="weak password"></td>
<td style="text-align:center"><img src="https://i.imgur.com/QzWNHng.png" alt="strong password"></td>
</tr>
</tbody>
</table>
</div>
<p>As we obliquely introduced in the previous section, a state machine is a function that maps events to commands and manages two encapsulated pieces of state: control state and extended state. There are <em>a priori</em> infinitely many ways to pick the encapsulated pieces of state. We pick this one:</p>
<div class="fullwidth"><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">Control state</th>
<th style="text-align:left">Extended state</th>
<th style="text-align:left">Event</th>
<th style="text-align:left">Commands</th>
<th style="text-align:left">New control state</th>
<th style="text-align:right">New extended state</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Idle</strong></td>
<td style="text-align:left"><code>input: &quot;&quot;</code></td>
<td style="text-align:left">start</td>
<td style="text-align:left">display initial password screen</td>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:right"><code>input: &quot;&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:left"><code>input: &quot;&quot;</code></td>
<td style="text-align:left">typed <code>a</code></td>
<td style="text-align:left">display weak password screen</td>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:right"><code>input: &quot;a&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:left"><code>input: &quot;a&quot;</code></td>
<td style="text-align:left">typed <code>2</code></td>
<td style="text-align:left">display strong password screen</td>
<td style="text-align:left"><strong>Strong</strong></td>
<td style="text-align:right"><code>input: &quot;a2&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Strong</strong></td>
<td style="text-align:left"><code>input: &quot;a2&quot;</code></td>
<td style="text-align:left">clicked submit</td>
<td style="text-align:left">display password submitted screen</td>
<td style="text-align:left"><strong>Done</strong></td>
<td style="text-align:right"><code>input: &quot;a2&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:left"><code>input: &quot;a&quot;</code></td>
<td style="text-align:left">typed <code>b</code></td>
<td style="text-align:left">display weak password screen</td>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:right"><code>input: &quot;ab&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:left"><code>input: &quot;ab&quot;</code></td>
<td style="text-align:left">clicked submit</td>
<td style="text-align:left"></td>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:right"><code>input: &quot;ab&quot;</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The behavior that the previous table mapping encodes can be accurately represented with a graph that <strong>links together the control states</strong>:</p>
<p><img src="../../graphs/password-meter.png" alt="password submit fsm"></p>
<p>The graph concepts (nodes, edges) map to state machines concepts as follows:</p>
<label for="mn-demo-30" class="margin-toggle">⊕</label><input type="checkbox" id="mn-demo-30" class="margin-toggle"><span class="marginnote"><p>Kingly’s visual formalism has other features that we do not detail here as they are not necessary to understand the models in this section. For a full description of the syntax for edge labels, <a href="../tooling/graph_editing.html#Syntax-reference">see here</a>.</p>
</span>
<ul>
<li>nodes are <em>control states</em>; and</li>
<li>edges, also called <em>transitions</em>, link an <em>origin control state</em> to a <em>target control state</em> and may contain a triple <code>event [guard] / actions</code>. Such triple means that when the <code>event</code> occurs, if the machine is in the origin control state and the <code>guard</code> is fulfilled, then the <code>actions</code> are output. Additionally, the control state for the machine changes to the target control state.</li>
</ul>
<h2 id="Free-guarantees"><a href="#Free-guarantees" class="headerlink" title="Free guarantees"></a>Free guarantees</h2><p>Our state machine concisely represents the fact, or property, that whatever input we receive in the <em>Weak</em> control state, it will only go to the <em>Strong</em> control state if some condition is fulfilled (e.g. the password contains both numbers and letters). Similarly, it will only compute the <em>submit password</em> command if the <em>clicked submit</em> event is received while it is in the <em>Strong</em> state.</p>
<p>The starting state and these two properties can be combined into another fundamental property of the design: the machine will compute the <em>submit password</em> command if and only if the password is strong. In short, we are able to <strong>reason formally</strong> about the machine and extract properties from its definition — <strong>without even testing the machine</strong>. This is just one of the many attractive characteristics of state machines which makes them a tool of choice for the robust implementation of applications. In practice, we still have to test. While the machine behavior is correct, its constituting functions may be erroneous. We may have inadvertently written the predicate that checks that a password is strong wrong. However, if our guards and action factories are correct, and our visual model is correct, Kingly guarantees that the machine will be correct.</p>
<p>Alright. We modeled the password meter behavior with a state machine that we represented with a graph. Let’s now implement the machine.</p>

  
  
    <div class="next-links">
      
      
        <span>← <a href="/documentation/v1/tutorials/counter-application.html">First steps</a></span>
      
      
      
        <span style="float: right;"><a href="/documentation/v1/tutorials/password-meter-implementation.html">Machine implementation</a> →</span>
      
    </div>
  
  <div class="footer">
    Caught a mistake?
    <a href="https://github.com/brucou/kingly-site/tree/master/src/v1/tutorials/password-meter.md" rel="noopener" target="_blank">
            Edit this on GitHub!
    </a><br>
    Can we help you?     <a href="https://github.com/brucou/kingly/discussions/new" rel="noopener" target="_blank">
      Let us know!
    </a>
  </div>
  <div id="cusdis" data-host="https://cusdis.com" data-app-id="5f634bfe-3365-4fba-941c-49ff7174f1e7" data-page-id="{{ PAGE_ID }}" data-page-url="{{ PAGE_URL }}" data-page-title="{{ PAGE_TITLE }}">
    <script async src="https://cusdis.com/js/cusdis.es.js"></script>
  </div>
</div>
      </div>
      <script src="/documentation/js/smooth-scroll.min.js"></script>
    

    <!-- script for sidebars, version selects etc. -->
    <script src="/documentation/js/css.escape.js"></script>
    <script src="/documentation/js/common.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</body>
</html>
