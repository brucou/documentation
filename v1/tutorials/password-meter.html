

<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><title>Modelization — Kingly.js</title>
  <meta charset="utf-8">
  <meta name="description" content="Kingly - The Modelling Library for Portable UIs">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Modelization — Kingly.js">
  <meta property="og:description" content="Kingly - The Modelling Library for Portable UIs">
  <meta property="og:image" content="https://brucou.github.io/documentation//documentation/images/kingly_logo.png">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Modelization — Kingly.js">
  <meta name="twitter:description" content="Kingly - The Modelling Library for Portable UIs">
  <meta name="twitter:image" content="https://brucou.github.io/documentation/images/kingly_logo.png">

  <link rel="apple-touch-icon" sizes="180x180" href="/documentation/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/documentation/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="256x256" href="/documentation/images/icons/favicon-256x256.png">
  <link rel="icon" href="/documentation/images/kingly_logo.png" type="image/png">

  <link href="//fonts.googleapis.com/css?family=Lato:300,400,600" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Overlock:400&text=Kingly.js" rel="stylesheet" type="text/css">

  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  <!-- main page styles -->
  <link rel="stylesheet" href="/documentation/css/page.css">

  <!--<script src="/documentation/js/kingly.js"></script>-->

  <!-- ga -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', '', 'brucou.github.io/documentation');
    ga('send', 'pageview');
  </script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  </head>

  <body class="docs">    <div id="mobile-bar">
      <!-- hexo-inject:begin --><!-- hexo-inject:end --><a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    

<div id="header">
  <a id="logo" href="/documentation/">
    <img src="/documentation/images/kingly_logo.png" alt="library logo">
    <span>Kingly</span>
    
  </a>
  <ul id="nav">
    <li class="nav-dropdown-container learn">
  <a class="nav-link">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tutorials/" class="nav-link current">Tutorials</a></li>
        <li><a href="/documentation/v1/examples/" class="nav-link">Examples</a></li>
        <li><a href="/documentation/v1/cookbook/" class="nav-link">Cookbook</a></li>
        <li><a href="/documentation/v1/best-practices/" class="nav-link">Best practices</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/api/index.html" class="nav-link team">API</a>
</li>
<li class="nav-dropdown-container integrations">
  <a class="nav-link">Integrations</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/int-vanilla/" class="nav-link current">Vanilla js</a></li>
        <li><a href="/documentation/v1/int-react/" class="nav-link">React</a></li>
        <li><a href="/documentation/v1/int-vue/" class="nav-link">Vue</a></li>
        <li><a href="/documentation/v1/int-svelte/" class="nav-link">Svelte</a></li>
        <li><a href="/documentation/v1/int-others/" class="nav-link">Others</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/testing/index.html" class="nav-link team">Testing</a>
</li>
<li>
  <a href="/documentation/v1/contributed/index.html" class="nav-link team">Contributed</a>
</li>

  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
          
  <div class="sidebar">
  <div class="sidebar-inner">
    <ul class="main-menu">
      <li class="nav-dropdown-container learn">
  <a class="nav-link">Learn</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/tutorials/" class="nav-link current">Tutorials</a></li>
        <li><a href="/documentation/v1/examples/" class="nav-link">Examples</a></li>
        <li><a href="/documentation/v1/cookbook/" class="nav-link">Cookbook</a></li>
        <li><a href="/documentation/v1/best-practices/" class="nav-link">Best practices</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/api/index.html" class="nav-link team">API</a>
</li>
<li class="nav-dropdown-container integrations">
  <a class="nav-link">Integrations</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li>
      <ul>
        <li><a href="/documentation/v1/int-vanilla/" class="nav-link current">Vanilla js</a></li>
        <li><a href="/documentation/v1/int-react/" class="nav-link">React</a></li>
        <li><a href="/documentation/v1/int-vue/" class="nav-link">Vue</a></li>
        <li><a href="/documentation/v1/int-svelte/" class="nav-link">Svelte</a></li>
        <li><a href="/documentation/v1/int-others/" class="nav-link">Others</a></li>
      </ul>
    </li>
  </ul>
</li>

<li>
  <a href="/documentation/v1/testing/index.html" class="nav-link team">Testing</a>
</li>
<li>
  <a href="/documentation/v1/contributed/index.html" class="nav-link team">Contributed</a>
</li>

    </ul>
    <div class="list">
      
        <h2>
          
          Tutorials
          
            <select class="version-select">
              <option value="SELF" selected>1.0</option>
            </select>
          
        </h2>
        <ul class="menu-root">
  
    
    
      
        <li><h3>Introduction</h3></li>
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/index.html" class="sidebar-link">Why Kingly</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/counter-application.html" class="sidebar-link">Counter application</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/installation.html" class="sidebar-link">Installation</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/model-with-machines.html" class="sidebar-link">Implementing UIs with state machines</a>
    </li>
  
    
    
      
      
        <li><h3>Password meter</h3></li>
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter.html" class="sidebar-link current">Modelization</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-implementation.html" class="sidebar-link">Machine implementation</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-ui-implementation.html" class="sidebar-link">Interface implementation</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/password-meter-learnt.html" class="sidebar-link">What we learnt</a>
    </li>
  
    
    
      
      
      
        <li><h3>Chess game</h3></li>
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game.html" class="sidebar-link">Two-player chess game</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game-evolved.html" class="sidebar-link">Chess game - adding features</a>
    </li>
  
    
    
      
      
      
      
      
      
      
      
    
    <li>
      <a href="/documentation/v1/tutorials/chess-game-ultimate.html" class="sidebar-link">Chess game - more features</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>



<div class="content tutorials with-sidebar ">
  
    
    
  
  
    <h1>Modelization</h1>
  
  
    <p>In this section, we will use a simple user interface to illustrate further basic state machine concepts like control state, extended state, transitions, guards, actions and commands. </p>
<h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><p>The user interface to specify is a <a href="https://cdn.dribbble.com/users/522131/screenshots/4467712/password_strength.png" target="_blank" rel="noopener">password meter</a>. Visually, the user interface consists of a <em>password</em> input field and a <em>submit</em> password button. Its behaviour is the following:</p>
<ul>
<li>the user types</li>
<li>for each new value of the password input, the input is displayed in green if the password is strong (that will be, to remain simple if there are both letters and numbers in the password), and in red otherwise</li>
<li>if the password is not strong, the user click on <code>submit</code> button is ignored, otherwise the password is set to the value of the password input<div class="gap"></div>
</li>
</ul>
<p>Follows some screens samples of the application in different states:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Initial screen</th>
<th style="text-align:center">Weak password</th>
<th style="text-align:center">Strong password</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><img src="https://i.imgur.com/ECzIRk2.png" alt="initial screen"></td>
<td style="text-align:center"><img src="https://i.imgur.com/q9TJFl4.png?1" alt="weak password"></td>
<td style="text-align:center"><img src="https://i.imgur.com/QzWNHng.png" alt="strong password"></td>
</tr>
</tbody>
</table>
</div>
<p>In the previous section, we saw how we could associate that behaviour to some functions $f$ and $g$ transforming inputs received by the interface into commands to perform on the interfaced systems.</p>
<p>If we choose as state the evolving content of the input field, one partial formulation for the reactive function $f$ is:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">State</th>
<th style="text-align:center">Event</th>
<th style="text-align:right">Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>{input: &quot;&quot;}</code></td>
<td style="text-align:center"><em>start</em></td>
<td style="text-align:right">display initial screen</td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;&quot;}</code></td>
<td style="text-align:center"><em>typed <code>a</code></em></td>
<td style="text-align:right">display weak password screen</td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;a&quot;}</code></td>
<td style="text-align:center"><em>typed <code>2</code></em></td>
<td style="text-align:right">display strong password screen</td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;a2&quot;}</code></td>
<td style="text-align:center"><em>clicked submit</em></td>
<td style="text-align:right">display password submitted screen</td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;a&quot;}</code></td>
<td style="text-align:center"><em>typed <code>b</code></em></td>
<td style="text-align:right">display weak password screen</td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;ab&quot;}</code></td>
<td style="text-align:center"><em>clicked submit</em></td>
<td style="text-align:right">.</td>
</tr>
</tbody>
</table>
</div>
<label for="mn-demo-11" class="margin-toggle">⊕</label><input type="checkbox" id="mn-demo-11" class="margin-toggle"><span class="marginnote"><p>Note that we do not reproduce the full mapping for $f$, as the input domain is infinite (while this tutorial is not). Our tables do not for instance give a mapping for the following sequence of events: [<em>typed <code>a</code></em>, <em>typed <code>2</code></em>, <em>typed <code>backspace</code></em>]. A partial formulation is sufficient for our educational purpose.</p>
</span>
<p>One of the many possible partial formulations for $g$ is:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">$state_n$</th>
<th style="text-align:left">event</th>
<th style="text-align:center">$actions_n$</th>
<th style="text-align:right">$state_{n+1}$</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>{input: &quot;&quot;}</code></td>
<td style="text-align:left"><em>start</em></td>
<td style="text-align:center">display weak password screen</td>
<td style="text-align:right"><code>{input: &quot;&quot;}</code></td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;&quot;}</code></td>
<td style="text-align:left"><em>typed <code>a</code></em></td>
<td style="text-align:center">display weak password screen</td>
<td style="text-align:right"><code>{input: &quot;a&quot;}</code></td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;a&quot;}</code></td>
<td style="text-align:left"><em>typed <code>2</code></em></td>
<td style="text-align:center">display strong password screen</td>
<td style="text-align:right"><code>{input: &quot;a2&quot;}</code></td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;a2&quot;}</code></td>
<td style="text-align:left"><em>clicked submit</em></td>
<td style="text-align:center">display password submitted screen</td>
<td style="text-align:right"><code>{input: &quot;a2&quot;}</code></td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;a&quot;}</code></td>
<td style="text-align:left"><em>typed <code>b</code></em></td>
<td style="text-align:center">display weak password screen</td>
<td style="text-align:right"><code>{input: &quot;ab&quot;}</code></td>
</tr>
<tr>
<td style="text-align:left"><code>{input: &quot;ab&quot;}</code></td>
<td style="text-align:left"><em>clicked submit</em></td>
<td style="text-align:center"></td>
<td style="text-align:right"><code>{input: &quot;ab&quot;}</code></td>
</tr>
</tbody>
</table>
</div>
<p>As we saw in the previous section, a state machine formulation involves dividing the state variable into control state and extended state. One of the possible state machines partial formulation is:</p>
<div class="fullwidth"><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">Control state</th>
<th style="text-align:left">Extended state</th>
<th style="text-align:left">Event</th>
<th style="text-align:left">Actions</th>
<th style="text-align:left">New control state</th>
<th style="text-align:right">New extended state</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:left"><code>input: &quot;&quot;</code></td>
<td style="text-align:left">typed <code>a</code></td>
<td style="text-align:left">display weak password screen</td>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:right"><code>input: &quot;a&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:left"><code>input: &quot;a&quot;</code></td>
<td style="text-align:left">typed <code>2</code></td>
<td style="text-align:left">display strong password screen</td>
<td style="text-align:left"><strong>Strong</strong></td>
<td style="text-align:right"><code>input: &quot;a2&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Strong</strong></td>
<td style="text-align:left"><code>input: &quot;a2&quot;</code></td>
<td style="text-align:left">clicked submit</td>
<td style="text-align:left">display password submitted screen</td>
<td style="text-align:left"><strong>Done</strong></td>
<td style="text-align:right"><code>input: &quot;a2&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:left"><code>input: &quot;a&quot;</code></td>
<td style="text-align:left">typed <code>b</code></td>
<td style="text-align:left">display weak password screen</td>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:right"><code>input: &quot;ab&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:left"><code>input: &quot;ab&quot;</code></td>
<td style="text-align:left">clicked submit</td>
<td style="text-align:left"></td>
<td style="text-align:left"><strong>Weak</strong></td>
<td style="text-align:right"><code>input: &quot;ab&quot;</code></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>While the input domain for $f$ is infinite and cannot be exhaustively enumerated, the behaviour that $f$ encodes can be accurately and entirely represented with a finite graph, linking together the control states:</p>
<p><img src="../../graphs/password%20submit%20fsm.png" alt="password submit fsm"></p>
<p>The corresponding visualization is pretty straight-forward:</p>
<ul>
<li>nodes are control states</li>
<li>edges, also called <em>transitions</em>, link an origin control state to a target control state and may contain a triple <code>event [condition] / actions</code>. Such triple means that when the <code>event</code> occurs, if the machine is in the origin control state and the <code>condition</code> is fulfilled, then the <code>actions</code> are performed. Additionally the control state for the machine changes to the target control state.</li>
</ul>
<p>That is all what is necessary for now to understand about the visualization.</p>
<h2 id="Free-theorems"><a href="#Free-theorems" class="headerlink" title="Free theorems"></a>Free theorems</h2><p>Our state machine concisely represents the fact, or property, that whatever input we receive in the <em>Weak</em> control state, it will only go to the <em>Strong</em> control state if some pre-configured condition is fulfilled (e.g. the password contains both numbers and letters). Similarly, it will only submit the password if the <em>clicked submit</em> event is received while it is in the <em>Strong</em> state.</p>
<p>The starting state and these two properties can be combined into a theorem: the machine will only submit a password if the password is strong. In short, we are able to <strong>reason formally</strong> about the machine and extract properties from its definition. This is just one of the many attractive properties of state machines which makes it a tool of choice for robust user interface’s implementation.</p>

  
  
    <div class="next-links">
      
      
        <span>← <a href="/documentation/v1/tutorials/model-with-machines.html">Implementing UIs with state machines</a></span>
      
      
      
        <span style="float: right;"><a href="/documentation/v1/tutorials/password-meter-implementation.html">Machine implementation</a> →</span>
      
    </div>
  
  <div class="footer">
  </div>
</div>

      </div>
      <script src="/documentation/js/smooth-scroll.min.js"></script>
    

    <!-- script for sidebars, version selects etc. -->
    <script src="/documentation/js/css.escape.js"></script>
    <script src="/documentation/js/common.js"></script>
    <!-- mathjax-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>
